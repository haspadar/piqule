# ============================================================
# AST Metrics quality policy
# ============================================================

sources:
  - src

exclude:
  - /vendor/
  - /tests/
  - /build/
  - /bin/
  - /var/
  - /node_modules/

reports:
  html: .piqule/ast-metrics/reports/html
  markdown: .piqule/ast-metrics/reports/report.md
  sarif: .piqule/ast-metrics/reports/report.sarif
  json: .piqule/ast-metrics/reports/report.json

requirements:
  rules:
    architecture:
      max_afferent_coupling: 10
      max_efferent_coupling: 10
      min_maintainability: 70
      no_circular_dependencies: true
      max_responsibilities: 1
      no_god_class: true

    volume:
      max_loc: 1000
      max_logical_loc: 600
      max_loc_by_method: 30
      max_logical_loc_by_method: 20
      max_methods_per_class: 10
      max_public_methods: 7
      max_parameters_per_method: 5
      max_nested_blocks: 4

    complexity:
      max_cyclomatic: 10
